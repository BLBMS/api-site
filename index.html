<script>
const sourcePage = 'oneuser'; // Ali dobite iz URL parametrov

fetch('https://apicc.42web.io/proxy-content', {
    method: 'POST',
    mode: 'cors',
    headers: {
        'Content-Type': 'application/json',
        'X-Source-Page': sourcePage,
        'X-Requested-From': window.location.href
    },
    body: JSON.stringify({
        data_url: `https://blbms.github.io/${sourcePage}/data.json`
    })
})
.then(async response => {
    if (!response.ok) {
        const err = await response.json();
        throw new Error(err.error || 'Request failed');
    }
    return response.json();
})
.then(data => {
    console.log('Data received:', data);
    // Tukaj obdelajte podatke
})
.catch(error => {
    console.error('Error:', error);
    // Tukaj obravnavajte napako
});
</script>
